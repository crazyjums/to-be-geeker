# 一、http/https相关面试题

## （1）域名解析中的CNAME和ARECORD区别

CNAME（Canonical Name）记录和 A记录（Address Record）是域名解析中两种常见的DNS记录类型，它们用于将域名解析为IP地址，但在使用上有一些区别。

1. CNAME记录：
   - CNAME记录是一种别名记录，用于将一个域名映射到另一个域名。它允许一个域名指向另一个域名，将两个域名视为同一个目标地址。
   - 通常用于指向某个已有域名的别名，方便维护和管理。例如，如果一个网站有多个子域名（如www、mail、blog等），可以将它们都指向主域名，这样如果主域名的IP地址发生变化，只需要更改一处CNAME记录即可，而不必修改所有子域名的A记录。
2. A记录：
   - A记录是一种地址记录，用于将域名解析为IPv4地址。它直接将域名映射到一个IPv4地址。
   - 当用户访问一个域名时，DNS服务器会查询该域名的A记录，将其解析为对应的IPv4地址，然后将用户请求重定向到该IP地址所对应的服务器上。

区别：

- CNAME记录只能指向另一个域名，不能直接指向IP地址。而A记录直接将域名解析为IPv4地址。
- A记录只能用于解析IPv4地址，而AAAA记录（类似A记录）用于解析IPv6地址。
- CNAME记录的目标可以是一个完整的域名，而A记录的目标是一个IPv4地址。

需要注意的是，由于CNAME记录会导致额外的DNS解析请求，可能会对域名解析速度产生一定的影响，所以在选择使用CNAME还是A记录时，需要根据实际需求和性能要求进行权衡。

## （2）http和https的区别 | [link](https://xiaolincoding.com/network/2_http/http_interview.html#http-%E4%B8%8E-https)

HTTP（HyperText Transfer Protocol）和HTTPS（HyperText Transfer Protocol Secure）是用于在客户端和服务器之间传输数据的协议。它们之间的主要区别在于安全性和加密机制：

1. 安全性和加密：
   - HTTP：是明文传输的协议，数据在传输过程中是以明文形式传输的，不加密。这意味着敏感信息（如用户名、密码、银行卡信息等）在传输过程中可能被黑客截取和窃听，存在安全风险。
   - HTTPS：是安全的传输协议，在HTTP的基础上添加了安全套接层（SSL/TLS）来加密传输的数据。使用HTTPS，数据在传输过程中经过加密，黑客无法直接截取和窃听数据，大大提高了数据的安全性。
2. 端口：
   - HTTP：默认使用80端口进行通信。
   - HTTPS：默认使用443端口进行通信。
3. 证书：
   - HTTP：不需要证书，因为数据是明文传输的。
   - HTTPS：需要使用SSL/TLS证书，用于验证服务器的身份和加密通信。证书由可信的第三方机构颁发，用于确认服务器是可信的。
4. 运行速度：
   - HTTP：由于不涉及加密和解密过程，通常比HTTPS运行速度更快。
   - HTTPS：由于涉及加密和解密过程，可能比HTTP稍微慢一些。

综上所述，HTTPS相比HTTP更加安全，适用于需要保护用户隐私和敏感信息的场景，例如网上银行、在线支付、登录页面等。对于一般的网页浏览，HTTP已经足够，但在现代互联网环境中，越来越多的网站都采用了HTTPS来保障用户数据的安全。

## （3）HTTP状态码？502和504什么意思？

HTTP状态码是由服务器返回给客户端的三位数字代码，用于表示请求的处理结果或状态。这些状态码帮助客户端了解服务器对请求的处理情况，以便采取适当的措施。下面是502和504状态码的含义：

1. 502 Bad Gateway（错误的网关）：
   - 当客户端向服务器发送请求，而服务器作为网关或代理服务器需要访问另一个上游服务器来处理请求，但从上游服务器接收到无效的响应时，会返回502 Bad Gateway状态码。
   - 这种情况通常发生在代理服务器或负载均衡服务器前面，当它们无法正常连接到上游服务器或上游服务器未能正确响应时，就会返回502状态码给客户端。

2. 504 Gateway Timeout（网关超时）：
   - 当客户端向服务器发送请求，而服务器作为网关或代理服务器需要访问另一个上游服务器来处理请求，在规定的时间内未能从上游服务器接收到响应时，会返回504 Gateway Timeout状态码。
   - 这种情况通常发生在代理服务器或负载均衡服务器前面，当它们向上游服务器发送请求但上游服务器在规定的时间内未能响应时，就会返回504状态码给客户端。

这些状态码表明了在客户端和服务器之间进行请求和响应交互时可能出现的一些问题。502和504状态码通常是由于网络连接问题、上游服务器故障、响应时间过长或服务器过载等原因引起的。在处理这些状态码时，客户端可能会尝试重新发送请求或向其他服务器发送请求，以获取正确的响应。对于网站管理员，需要监控服务器的状态，查找问题的根本原因，并进行相应的故障排除和性能优化。

> HTTP状态码中，501和503分别表示以下含义：
>
> 1. 501 Not Implemented（未实现）：
>    - 501状态码表示服务器不支持客户端请求的功能或方法。这意味着服务器无法处理客户端发送的请求，因为服务器不具备实现所需功能的能力。
>    - 当客户端发送了服务器不支持的HTTP方法（如PUT或DELETE）或特定的请求头字段时，服务器可能会返回501状态码。
>
> 2. 503 Service Unavailable（服务不可用）：
>    - 503状态码表示服务器当前无法处理客户端的请求，因为服务器暂时不可用或过载。这意味着服务器无法在当前时间提供请求的服务。
>    - 503状态码通常用于临时性的情况，比如服务器正在进行维护、升级或出现临时故障时，会返回503状态码。客户端可以稍后重试请求，期望服务器能够恢复正常服务。
>
> 这些状态码都是服务器端返回给客户端的信息，用于说明服务器对请求的处理情况。501表示服务器无法处理请求的功能，503表示服务器暂时无法提供服务。客户端在收到这些状态码后，可以根据具体情况采取相应的措施，例如尝试使用其他支持的方法或稍后重新发送请求。服务器管理员应该注意这些状态码，确保服务器支持所需的功能并能够提供稳定的服务。

# 二、TCP/IP相关面试题

1. TCP三次握手和四次挥手的过程是什么？
2. TCP的慢启动算法是什么？为什么要使用慢启动？
3. TCP的拥塞控制算法是什么？如何避免网络拥塞？
4. TCP和UDP的区别是什么？在什么情况下使用TCP，什么情况下使用UDP？
5. TCP的流量控制和拥塞控制有什么区别？如何确保在网络拥塞时数据传输的可靠性？
6. TCP粘包和拆包问题是什么？如何解决这些问题？
7. TCP的连接保持和超时机制是什么？为什么需要定期发送心跳包？
8. TCP的滑动窗口机制是什么？如何实现流式数据传输？
9. TCP连接的状态转换是怎样的？可以从哪些状态直接进入CLOSED状态？
10. TCP的Nagle算法是什么？它在什么情况下被禁用？
11. TCP的TIME_WAIT状态是什么？为什么需要等待一段时间？
12. TCP的精确计时器和延迟确认机制是如何实现的？

## （1）TCP的慢启动算法是什么？为什么要使用慢启动？

TCP的慢启动算法是TCP拥塞控制机制中的一部分，用于在建立连接或者网络拥塞解除后，让数据传输速率逐渐增加，防止网络拥塞引起的数据包丢失。

慢启动算法的原理如下：

1. 在建立连接时，TCP发送方会将初始拥塞窗口设置为一个较小的值，通常是一个MSS（最大段大小）或者一个较小的固定值。
2. TCP发送方在每次成功接收到一个确认（ACK）时，将拥塞窗口大小加倍，使得数据传输速率指数级增加。
3. 每经过一个往返时间（Round-Trip Time，RTT），拥塞窗口大小就会翻倍，导致数据传输速率逐渐增加。

慢启动算法的目的是为了让TCP连接在开始传输数据时以较慢的速率逐渐增加，避免在网络中突然发送大量数据引起拥塞，从而导致数据包丢失和网络性能下降。通过慢启动，TCP连接可以在网络的容量范围内动态调整发送速率，以适应网络的变化，同时避免过度拥塞。

慢启动算法在TCP的初始建立和连接恢复（例如：超时重传）时起到重要作用，它帮助TCP连接快速适应网络状况，从而提供更高效的数据传输和更好的用户体验。在网络拥塞出现时，TCP连接会通过拥塞避免算法来降低拥塞窗口，以减少数据包丢失，保持网络的稳定性。